
<!DOCTYPE html><html class=''>
<head>

</head>
<body>

	<div id="root">
		<pre id="out" style="width: 100%; height: 6rem;"></pre>
	</div>
	<button class="watch">Watch location</button>

	<script>
	var templateElement = document.querySelector('#out')
    var count = 0;

	document.body.addEventListener('click', function (evt) {
		if (evt.target.matches('.watch')) {
			evt.target.parentElement.removeChild(evt.target);


			function geo_success(position) {
			  out.innerHTML = `
  check#: ${count++}
  latitude: ${position.coords.latitude}
  longitude: ${position.coords.longitude},
  accuracy: ${position.coords.accuracy}
`
			}

			function geo_error(e) {
			  alert(`Sorry, no position available.\n ${e.message}`);
			}

			var geo_options = {
			  enableHighAccuracy: true,
			  maximumAge        : 3000,
			  timeout           : 27000
			};

			var wpid = navigator.geolocation.watchPosition(geo_success, geo_error, geo_options);

		}
	})



	</script>
</body></html>